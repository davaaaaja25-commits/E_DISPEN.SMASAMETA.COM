<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Dispensa Siswa | SMA Negeri 1 Magetan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f8fafc;
        }

        .glass-morphism {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .misi-list li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .misi-list li::before {
            content: "\f00c";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            color: #2563eb;
            font-size: 0.8rem;
        }

        .status-badge {
            padding: 2px 8px;
            border-radius: 99px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Header / Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-morphism shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center gap-4">
                    <img src="https://lh3.googleusercontent.com/d/1XY2UpOIPvnIvQQ_kqxKRpRVisx9k3Tyn" 
                         alt="Logo SMASA" 
                         class="h-12 w-12 object-contain"
                         onerror="this.src='https://ui-avatars.com/api/?name=SMASA&background=1e3a8a&color=fff'">
                    <div>
                        <h1 class="font-extrabold text-xl text-blue-900 tracking-tight leading-none">E-DISPENSA</h1>
                        <p class="text-[10px] text-slate-500 font-bold tracking-[0.2em] uppercase mt-1">Siswa SMASA Magetan</p>
                    </div>
                </div>
                
                <div class="hidden lg:flex space-x-6">
                    <button onclick="showTab('beranda')" class="nav-btn px-3 py-2 text-sm font-semibold text-slate-600 hover:text-blue-700 transition">Beranda</button>
                    <button onclick="showTab('form')" class="nav-btn px-3 py-2 text-sm font-semibold text-slate-600 hover:text-blue-700 transition">Ajukan Izin</button>
                    <button onclick="showTab('status')" class="nav-btn px-3 py-2 text-sm font-semibold text-slate-600 hover:text-blue-700 transition">Cek Status & Email</button>
                    <button onclick="showTab('profil')" class="nav-btn px-3 py-2 text-sm font-semibold text-slate-600 hover:text-blue-700 transition">Profil Sekolah</button>
                </div>

                <div class="flex items-center gap-3">
                    <span id="currentTime" class="hidden md:block text-xs font-mono bg-slate-100 px-3 py-1 rounded-full border">00:00:00</span>
                    <button class="bg-blue-600 text-white p-2 rounded-lg lg:hidden">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="mt-28 max-w-7xl mx-auto px-4 pb-20">
        
        <!-- Section: Beranda -->
        <section id="beranda" class="tab-content active">
            <div class="relative rounded-[2.5rem] overflow-hidden shadow-2xl bg-white">
                <div class="grid lg:grid-cols-2">
                    <div class="p-10 lg:p-16 flex flex-col justify-center">
                        <div class="inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-2 rounded-full text-xs font-bold mb-6">
                            PORTAL KHUSUS PESERTA DIDIK
                        </div>
                        <h2 class="text-5xl font-black text-slate-900 mb-6 leading-[1.1]">
                            Izin Sekolah <br><span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600">Jadi Lebih Mudah</span>
                        </h2>
                        <p class="text-slate-600 text-lg mb-10 leading-relaxed max-w-lg">
                            Ajukan dispensasi belajar secara mandiri, dapatkan persetujuan guru secara digital, dan terima konfirmasi langsung di email kamu.
                        </p>
                        <div class="flex flex-wrap gap-4">
                            <button onclick="showTab('form')" class="gradient-bg text-white px-8 py-4 rounded-2xl font-bold shadow-xl shadow-blue-200 hover:scale-105 transition-transform">
                                Buat Pengajuan
                            </button>
                            <button onclick="showTab('status')" class="bg-slate-100 text-slate-700 px-8 py-4 rounded-2xl font-bold hover:bg-slate-200 transition">
                                Riwayat Izin
                            </button>
                        </div>
                    </div>
                    <div class="hidden lg:block relative gradient-bg">
                        <div class="absolute inset-0 opacity-20" style="background-image: url('https://www.transparenttextures.com/patterns/cubes.png');"></div>
                        <div class="relative h-full flex items-center justify-center p-12">
                            <div class="bg-white/10 backdrop-blur-md p-8 rounded-3xl border border-white/20 w-full text-white">
                                <div class="mb-4 flex items-center gap-3">
                                    <div class="w-10 h-10 bg-green-400 rounded-full flex items-center justify-center text-slate-900">
                                        <i class="fa-solid fa-envelope-circle-check"></i>
                                    </div>
                                    <span class="font-bold">Notifikasi Email Aktif</span>
                                </div>
                                <p class="text-blue-100 text-sm">Sistem akan otomatis mengirimkan surat izin digital ke email kamu setelah guru yang bersangkutan menyetujui pengajuan.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Form Pengajuan (Hanya Siswa) -->
        <section id="form" class="tab-content">
            <div class="max-w-3xl mx-auto">
                <div class="bg-white p-8 lg:p-12 rounded-[2rem] shadow-xl border border-slate-100">
                    <div class="flex items-center gap-4 mb-10 border-b border-slate-100 pb-6">
                        <div class="p-3 bg-blue-100 text-blue-600 rounded-2xl">
                            <i class="fa-solid fa-paper-plane text-2xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-slate-900">Form Pengajuan Siswa</h2>
                            <p class="text-slate-500 text-sm">Isi data dan tentukan guru pemberi izin.</p>
                        </div>
                    </div>
                    
                    <form id="dispenForm" onsubmit="handleFormSubmit(event)" class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Nama Lengkap & Kelas</label>
                                <input type="text" id="siswaName" required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none transition-all" placeholder="Contoh: Budi Santoso - XI MIPA 1">
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Email Aktif (Untuk Notifikasi)</label>
                                <input type="email" id="siswaEmail" required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none transition-all" placeholder="budi@gmail.com">
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Kategori Guru</label>
                                <select id="guruKategori" required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none bg-white">
                                    <option value="" disabled selected>Pilih Jabatan...</option>
                                    <option>Kepala Sekolah</option>
                                    <option>Waka Kesiswaan</option>
                                    <option>Guru Mata Pelajaran</option>
                                    <option>Guru Piket</option>
                                    <option>Wali Kelas</option>
                                    <option>Guru BK</option>
                                </select>
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Nama Guru Pemberi Izin</label>
                                <input type="text" id="guruNamaLengkap" required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none transition-all" placeholder="Tulis nama lengkap guru">
                            </div>
                        </div>

                        <div class="space-y-2">
                            <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Alasan Dispensasi</label>
                            <textarea required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none transition-all" rows="3" placeholder="Contoh: Sakit / Mengikuti Lomba OSN / Urusan Keluarga"></textarea>
                        </div>

                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Mulai Jam/Tgl</label>
                                <input type="datetime-local" required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none">
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest ml-1">Selesai Jam/Tgl</label>
                                <input type="datetime-local" required class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none">
                            </div>
                        </div>

                        <div class="p-4 bg-amber-50 rounded-2xl border border-amber-100 flex gap-3">
                            <i class="fa-solid fa-circle-info text-amber-500 mt-1"></i>
                            <p class="text-xs text-amber-800 leading-relaxed">Setelah klik submit, sistem akan mengirim permintaan persetujuan ke guru yang Anda tulis di atas. Pastikan nama guru sudah benar.</p>
                        </div>

                        <button type="submit" class="w-full gradient-bg text-white py-5 rounded-2xl font-extrabold text-lg shadow-xl shadow-blue-100 hover:shadow-2xl hover:-translate-y-1 transition-all">
                            Kirim Pengajuan & Minta Persetujuan
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Section: Status Pengajuan (Simulasi Tracking) -->
        <section id="status" class="tab-content">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-[2rem] shadow-xl overflow-hidden">
                    <div class="p-8 border-b border-slate-100 flex justify-between items-center">
                        <h2 class="text-2xl font-bold text-slate-900">Status Izin Saya</h2>
                        <span class="text-xs font-bold text-slate-400 italic">Terakhir diperbarui: Baru saja</span>
                    </div>
                    <div class="p-8 overflow-x-auto">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="text-xs font-black text-slate-400 uppercase tracking-widest border-b">
                                    <th class="pb-4 px-2">Keterangan</th>
                                    <th class="pb-4 px-2">Guru Penanggung Jawab</th>
                                    <th class="pb-4 px-2">Status</th>
                                    <th class="pb-4 px-2">Email Bukti</th>
                                </tr>
                            </thead>
                            <tbody id="statusTableBody">
                                <!-- Data awal simulasi -->
                                <tr class="border-b border-slate-50 last:border-0 hover:bg-slate-50 transition">
                                    <td class="py-6 px-2">
                                        <p class="font-bold text-slate-800">Sakit (Demam)</p>
                                        <p class="text-[10px] text-slate-400">10 Feb 2026, 07:30</p>
                                    </td>
                                    <td class="py-6 px-2">
                                        <p class="text-sm font-medium text-slate-600">Aris Sudarmono, M.Pd.</p>
                                        <p class="text-[10px] text-blue-500 font-bold uppercase">Kepala Sekolah</p>
                                    </td>
                                    <td class="py-6 px-2">
                                        <span class="status-badge bg-green-100 text-green-700">Disetujui</span>
                                    </td>
                                    <td class="py-6 px-2">
                                        <span class="text-xs text-blue-600 font-bold"><i class="fa-solid fa-envelope-circle-check mr-1"></i> Terkirim</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mt-8 bg-blue-900 rounded-3xl p-8 text-white relative overflow-hidden">
                    <div class="relative z-10 flex flex-col md:flex-row items-center gap-6">
                        <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center text-3xl">
                            <i class="fa-solid fa-bolt-lightning text-yellow-300"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-1">Informasi Notifikasi</h3>
                            <p class="text-blue-100 text-sm opacity-80">Jika status sudah "Disetujui", namun email belum masuk dalam 5 menit, silakan cek folder Spam atau hubungi staf TU.</p>
                        </div>
                    </div>
                    <div class="absolute -right-10 -bottom-10 w-40 h-40 bg-white/5 rounded-full blur-2xl"></div>
                </div>
            </div>
        </section>

        <!-- Section: Profil Sekolah -->
        <section id="profil" class="tab-content">
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 space-y-8">
                    <div class="bg-white p-10 rounded-[2rem] shadow-xl">
                        <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                            <span class="w-8 h-1 bg-blue-600 rounded-full"></span>
                            Tentang SMASA
                        </h2>
                        <div class="prose text-slate-600 leading-relaxed text-sm">
                            <p>SMA Negeri 1 Magetan terus bertransformasi menjadi institusi pendidikan yang unggul. Di bawah kepemimpinan <strong>Aris Sudarmono, M.Pd.</strong>, SMASA berkomitmen menghadirkan layanan digital bagi siswa guna memudahkan proses administrasi akademik dan non-akademik.</p>
                        </div>
                    </div>

                    <div class="bg-white p-10 rounded-[2rem] shadow-xl border-l-8 border-blue-600">
                        <h2 class="text-sm font-black text-slate-400 uppercase mb-4 tracking-widest">Visi Sekolah</h2>
                        <p class="text-lg text-slate-800 font-bold italic leading-relaxed">
                            "Terwujudnya insan SMA Negeri 1 Magetan yang beriman dan bertaqwa, inovatif, berkarakter melalui komunitas belajar untuk meningkatkan daya saing global."
                        </p>
                    </div>

                    <div class="bg-white p-10 rounded-[2rem] shadow-xl">
                        <h2 class="text-sm font-black text-slate-400 uppercase mb-8 border-b pb-4 tracking-widest">Misi Sekolah</h2>
                        <ul class="misi-list text-slate-600 text-[13px] leading-relaxed">
                            <li>Membudayakan kehidupan sekolah yang religius dan berbudi pekerti luhur sesuai dengan agama dan kepercayaan masing-masing.</li>
                            <li>Menggali potensi sumber daya manusia dan mengembangkannya sesuai dengan perkembangan teknologi.</li>
                            <li>Meningkatkan sikap disiplin bagi warga sekolah.</li>
                            <li>Mewujudkan sekolah yang unggul dan kompetitif dalam bidang akademik dan non akademik.</li>
                            <li>Mewujudkan Pendidikan yang mengedepankan belajar sepanjang hayat dengan melibatkan seluruh warga sekolah dan orang tua peserta didik.</li>
                            <li>Mewujudkan pendidikan yang membentuk profil pelajar Pancasila dan berkebinekhaan global.</li>
                            <li>Menjalin Kerjasama dengan Perguruan Tinggi dan Alumni untuk membekali peserta didik ke jenjang pendidikan yang lebih tinggi.</li>
                            <li>Melestarikan lingkungan sekolah yang nyaman. asri, bersih dan rapi.</li>
                            <li>Memberikan pelayanan berdeferensesiasi kepada peserta didik sesuai dengan kebutuhan belajar.</li>
                            <li>Memberdayakan potensi kecerdasan peserta didik dalam IMTAQ dan IPTEK yang berorientasi pada daya saing global.</li>
                        </ul>
                    </div>
                </div>

                <div class="space-y-8">
                    <div class="bg-white p-8 rounded-[2rem] shadow-xl text-center border-t-4 border-blue-600">
                        <div class="w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 border-2 border-blue-100">
                             <i class="fa-solid fa-user-tie text-4xl text-blue-600"></i>
                        </div>
                        <h4 class="font-bold text-slate-900">Aris Sudarmono, M.Pd.</h4>
                        <p class="text-xs text-slate-500 font-bold uppercase tracking-tighter">Kepala SMA Negeri 1 Magetan</p>
                    </div>

                    <div class="bg-slate-900 text-white p-8 rounded-[2rem] shadow-xl">
                        <h3 class="text-lg font-bold mb-6">Hubungi Kami</h3>
                        <div class="space-y-5">
                            <div class="flex gap-4">
                                <i class="fa-solid fa-phone text-blue-400 mt-1"></i>
                                <div>
                                    <p class="text-[10px] text-slate-400 uppercase font-bold">Telepon</p>
                                    <p class="font-bold text-sm">(0351) 895061</p>
                                </div>
                            </div>
                            <div class="flex gap-4">
                                <i class="fa-solid fa-envelope text-blue-400 mt-1"></i>
                                <div>
                                    <p class="text-[10px] text-slate-400 uppercase font-bold">Email</p>
                                    <p class="font-bold text-sm">sman1magetan@yahoo.sch.id</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal Simulasi Email Send -->
    <div id="modalSuccess" class="fixed inset-0 bg-slate-900/60 hidden z-[100] backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-white p-10 rounded-[2.5rem] max-w-sm w-full text-center shadow-2xl scale-in">
            <div id="modalIcon" class="w-20 h-20 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 text-4xl shadow-inner animate-bounce">
                <i class="fa-solid fa-paper-plane"></i>
            </div>
            <h3 id="modalTitle" class="text-2xl font-black text-slate-900 mb-2">Mengirim Pengajuan...</h3>
            <p id="modalMsg" class="text-slate-500 mb-8 leading-relaxed text-sm">Menghubungi guru penanggung jawab dan menyiapkan notifikasi email.</p>
            <div id="modalAction" class="hidden">
                 <button onclick="closeModal()" class="w-full gradient-bg text-white py-4 rounded-2xl font-bold hover:opacity-90 transition shadow-lg">Lihat Status</button>
            </div>
        </div>
    </div>

    <footer class="bg-white border-t border-slate-100 text-slate-400 py-10 px-4">
        <div class="max-w-7xl mx-auto text-center">
            <p class="text-xs font-bold uppercase tracking-[0.3em] mb-2">SMA NEGERI 1 MAGETAN</p>
            <p class="text-[10px]">Portal E-Dispensa Siswa Terintegrasi & Notifikasi Otomatis</p>
        </div>
    </footer>

    <script>
        function updateClock() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('id-ID', { hour12: false });
            document.getElementById('currentTime').innerText = timeStr;
        }
        setInterval(updateClock, 1000);
        updateClock();

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-blue-700', 'bg-blue-50', 'rounded-lg');
            });
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function handleFormSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('siswaName').value;
            const guruKat = document.getElementById('guruKategori').value;
            const guruNama = document.getElementById('guruNamaLengkap').value;
            const email = document.getElementById('siswaEmail').value;

            // Tampilkan loading modal
            document.getElementById('modalSuccess').classList.remove('hidden');
            document.getElementById('modalSuccess').classList.add('flex');
            
            // Simulasi proses "mengirim" dan persetujuan
            setTimeout(() => {
                document.getElementById('modalTitle').innerText = "Berhasil Dikirim!";
                document.getElementById('modalIcon').classList.remove('animate-bounce', 'bg-blue-100', 'text-blue-600');
                document.getElementById('modalIcon').classList.add('bg-green-100', 'text-green-600');
                document.getElementById('modalIcon').innerHTML = '<i class="fa-solid fa-check"></i>';
                document.getElementById('modalMsg').innerHTML = `Permintaan izin telah dikirim ke <b>${guruNama}</b> (${guruKat}). <br><br>Sistem akan mengirim email bukti ke <b>${email}</b> segera setelah disetujui.`;
                document.getElementById('modalAction').classList.remove('hidden');

                // Tambahkan ke tabel riwayat (simulasi)
                const tbody = document.getElementById('statusTableBody');
                const row = `
                    <tr class="border-b border-slate-50 last:border-0 bg-blue-50/30">
                        <td class="py-6 px-2">
                            <p class="font-bold text-slate-800">Izin Baru (${name})</p>
                            <p class="text-[10px] text-slate-400">Baru Saja</p>
                        </td>
                        <td class="py-6 px-2">
                            <p class="text-sm font-medium text-slate-600">${guruNama}</p>
                            <p class="text-[10px] text-blue-500 font-bold uppercase">${guruKat}</p>
                        </td>
                        <td class="py-6 px-2">
                            <span class="status-badge bg-amber-100 text-amber-700">Menunggu</span>
                        </td>
                        <td class="py-6 px-2">
                            <span class="text-xs text-slate-400 italic">Menunggu Izin...</span>
                        </td>
                    </tr>
                `;
                tbody.insertAdjacentHTML('afterbegin', row);
            }, 2000);
        }

        function closeModal() {
            document.getElementById('modalSuccess').classList.add('hidden');
            document.getElementById('modalSuccess').classList.remove('flex');
            
            // Reset modal state
            document.getElementById('modalTitle').innerText = "Mengirim Pengajuan...";
            document.getElementById('modalIcon').classList.add('animate-bounce', 'bg-blue-100', 'text-blue-600');
            document.getElementById('modalIcon').classList.remove('bg-green-100', 'text-green-600');
            document.getElementById('modalIcon').innerHTML = '<i class="fa-solid fa-paper-plane"></i>';
            document.getElementById('modalAction').classList.add('hidden');
            
            document.getElementById('dispenForm').reset();
            showTab('status');
        }
    </script>
</body>
</html>
